<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitProgress | Premium Experience</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4d00;
            --primary-glow: rgba(255, 77, 0, 0.4);
            --bg: #050505;
            --card-bg: #0f0f0f;
            --text: #ffffff;
            --text-dim: #888;
            --success: #00ff00;
            --m-blue: #0066cc;
            --m-dark-blue: #004a99;
        }

        body.light-mode { --bg: #ffffff; --text: #050505; }

        /* NOVINKA: HARDCORE MODE EFEKT */
        body.hardcore-mode {
            animation: hardcore-pulse 2s infinite;
        }
        @keyframes hardcore-pulse {
            0% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.1); }
            50% { box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.2); }
            100% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.1); }
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* --- SEARCH BAR ≈†T√ùLY --- */
        .search-container {
            position: relative;
            margin: 0 15px;
        }

        .search-input {
            background: #111;
            border: 1px solid #333;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            width: 280px;
            transition: 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            width: 300px;
            box-shadow: 0 0 10px var(--primary-glow);
        }

        .search-results {
            position: absolute;
            top: 110%;
            left: 0;
            width: 100%;
            background: #0f0f0f;
            border: 1px solid #222;
            border-radius: 10px;
            display: none;
            flex-direction: column;
            z-index: 5000;
            max-height: 250px;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }

        .search-results a {
            padding: 10px 15px;
            color: var(--text-dim);
            text-decoration: none;
            font-size: 0.8rem;
            border-bottom: 1px solid #161616;
            transition: 0.2s;
        }

        .search-results a:hover {
            background: #1a1a1a;
            color: var(--primary);
        }

        /* --- DROPDOWN A SUBMENU ≈†T√ùLY --- */
        .dropdown {
            position: relative;
            display: inline-block;
            height: 100%;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #0f0f0f;
            min-width: 220px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.8);
            z-index: 3000;
            border: 1px solid #222;
            border-top: 3px solid var(--primary);
            border-radius: 0 0 10px 10px;
            top: 100%;
            left: 0;
        }

        .dropdown:hover .dropdown-content {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        .submenu {
            position: relative;
        }

        .submenu-content {
            display: none;
            position: absolute;
            left: 100%; 
            top: -1px;
            background-color: #0f0f0f;
            min-width: 200px;
            border: 1px solid #222;
            border-left: 3px solid var(--primary);
            border-radius: 0 10px 10px 10px;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.5);
        }

        .submenu:hover .submenu-content {
            display: block;
            animation: fadeInRight 0.3s ease;
        }

        .dropdown-content a {
            color: var(--text-dim) !important;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 0.8rem !important;
            text-transform: none !important;
            border-bottom: 1px solid #1a1a1a;
            text-align: left;
            transition: 0.2s;
        }

        .dropdown-content a:hover {
            background-color: #1a1a1a;
            color: var(--primary) !important;
            padding-left: 20px;
        }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInRight { from { opacity: 0; transform: translateX(15px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes shake { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
        @keyframes pulse-glow { 0% { box-shadow: 0 0 5px var(--primary); } 50% { box-shadow: 0 0 20px var(--primary); } 100% { box-shadow: 0 0 5px var(--primary); } }
        
        .cart-shake { animation: shake 0.4s ease; border-color: var(--primary) !important; color: var(--primary) !important; }
        .recommended-active { border: 2px solid var(--primary) !important; animation: pulse-glow 2s infinite; transform: scale(1.02); }

        .overlay-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
            display: flex; justify-content: center; align-items: center; z-index: 9999;
            overflow-y: auto; padding: 20px 0;
        }

        .auth-container {
            background: var(--card-bg); padding: 40px; border-radius: 30px;
            width: 90%; max-width: 450px; text-align: center; border: 1px solid #222;
        }

        .auth-tabs { display: flex; gap: 10px; margin-bottom: 25px; background: #000; padding: 5px; border-radius: 15px; }
        .tab-btn { flex: 1; padding: 10px; border-radius: 12px; border: none; background: transparent; color: var(--text-dim); cursor: pointer; font-weight: 700; transition: 0.3s; }
        .tab-btn.active { background: var(--primary); color: white; }

        input, select, textarea {
            width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px;
            border: 1px solid #333; background: #000; color: white; font-family: inherit; font-size: 0.9rem;
        }
        textarea { height: 80px; resize: none; }

        #main-web-content, #onboarding-screen { display: none; }
        #auth-screen { display: flex; }

        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 10%; background: rgba(0,0,0,0.7); backdrop-filter: blur(20px);
            position: fixed; width: 100%; top: 0; z-index: 2000; border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .logo { font-size: 1.4rem; font-weight: 900; text-transform: uppercase; }
        .logo span { color: var(--primary); }
        .links { display: flex; align-items: center; gap: 35px; }
        .links a { color: white; text-decoration: none; font-weight: 700; font-size: 0.75rem; text-transform: uppercase; transition: 0.3s; }
        .links a:hover { color: var(--primary); }

        .cart-btn {
            background: #111; border: 1px solid #222; color: white; padding: 8px 15px;
            border-radius: 8px; cursor: pointer; font-weight: 700; font-size: 0.7rem; transition: 0.3s;
        }

        .profile-icon {
            width: 35px; height: 35px; border-radius: 50%; background: #222;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            border: 1px solid #444; overflow: hidden;
        }
        .profile-icon img { width: 100%; height: 100%; object-fit: cover; }
        .profile-icon svg { width: 20px; fill: white; }

        .trust-bar {
            background: #0a0a0a; padding: 20px 10%; display: flex; justify-content: space-around;
            flex-wrap: wrap; gap: 20px; border-top: 1px solid #111; border-bottom: 1px solid #111;
        }
        .trust-item { color: var(--text-dim); font-size: 0.75rem; font-weight: 700; text-transform: uppercase; display: flex; align-items: center; gap: 10px; }
        .trust-item span { color: var(--primary); font-size: 1.2rem; }

        .hero {
            height: 100vh; position: relative; display: flex; align-items: center; padding: 0 10%;
            overflow: hidden;
        }
        .hero-video-bg {
            position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%;
            width: auto; height: auto; z-index: -1; transform: translateX(-50%) translateY(-50%);
            object-fit: cover; filter: brightness(0.4);
        }

        .hero-text { flex: 1.2; z-index: 10; animation: fadeInUp 1s ease forwards; }
        .hero-text h1 { font-size: 4.5rem; line-height: 1; margin-bottom: 20px; font-weight: 900; }
        .hero-text h1 span { color: var(--primary); text-shadow: 0 0 30px var(--primary-glow); }
        .hero-text p { color: var(--text-dim); font-size: 1.1rem; max-width: 500px; margin-bottom: 40px; }

        .social-proof { display: flex; align-items: center; gap: 10px; margin-top: 25px; }
        .user-avatars { display: flex; margin-right: 5px; }
        .user-avatars img { width: 35px; height: 35px; border-radius: 50%; border: 2px solid #050505; margin-left: -12px; transition: 0.3s; }
        .user-avatars img:first-child { margin-left: 0; }
        .social-proof span { font-size: 0.8rem; color: var(--text-dim); font-weight: 600; }

        .btn-cta {
            background: var(--primary); color: white; text-decoration: none;
            padding: 20px 50px; border-radius: 12px; font-weight: 900;
            text-transform: uppercase; display: inline-block; transition: 0.3s;
            box-shadow: 0 10px 40px var(--primary-glow); border: none; cursor: pointer;
        }
        .btn-cta:hover { transform: translateY(-3px); filter: brightness(1.1); }
        .btn-cta:active { transform: scale(0.96); }

        .hero-image { flex: 0.8; text-align: right; z-index: 10; animation: fadeInUp 1.2s ease forwards; }
        .hero-image img { width: 100%; max-width: 500px; border-radius: 30px; filter: drop-shadow(0 0 50px rgba(255,77,0,0.2)); }

        

        .faq-container { max-width: 800px; margin: 0 auto; text-align: left; }
        .faq-item { background: #0f0f0f; margin-bottom: 12px; border-radius: 15px; overflow: hidden; border: 1px solid #1a1a1a; transition: 0.3s; cursor: pointer; }
        .faq-item:hover { border-color: var(--primary); }
        .faq-question { padding: 20px; display: flex; justify-content: space-between; font-weight: 700; font-size: 0.95rem; }
        .faq-answer { padding: 0 20px; max-height: 0; overflow: hidden; transition: 0.4s ease-out; color: var(--text-dim); font-size: 0.9rem; }
        .faq-item.active .faq-answer { padding: 0 20px 20px; max-height: 200px; }
        .faq-item.active .faq-question span { transform: rotate(45deg); color: var(--primary); }

        #news-popup {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 10000;
            display: none; justify-content: center; align-items: center;
        }

        .section-title { text-align: center; margin-bottom: 50px; font-size: 2.5rem; font-weight: 900; }
        .section-title span { color: var(--primary); }


        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 50px; }
        .offer-card { background: var(--card-bg); border-radius: 20px; padding: 15px; border: 1px solid #1a1a1a; transition: 0.4s; position: relative; overflow: hidden; }
        .offer-card:hover { transform: translateY(-8px); border-color: var(--primary); }
        .offer-card img { width: 100%; height: 200px; object-fit: cover; border-radius: 15px; margin-bottom: 15px; }
        
        .rec-badge { position: absolute; top: 10px; right: 10px; background: var(--primary); color: white; padding: 5px 12px; border-radius: 20px; font-size: 0.6rem; font-weight: 900; display: none; z-index: 10; }

        .card-price { font-size: 1.3rem; font-weight: 900; color: var(--primary); margin-bottom: 15px; }
        .old-price { font-size: 0.9rem; text-decoration: line-through; color: var(--text-dim); margin-right: 10px; }

        .progress-container { background: #222; border-radius: 10px; height: 8px; margin: 15px 0; overflow: hidden; }
        .progress-bar { background: var(--primary); height: 100%; width: 0%; transition: 0.5s; box-shadow: 0 0 10px var(--primary); }
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 5000; padding: 20px; }
        .modal-content { background: #111; padding: 40px; border-radius: 30px; width: 100%; max-width: 420px; border: 1px solid #222; text-align: center; }
        
        .cart-item {
            display: flex; justify-content: space-between; align-items: center;
            background: #1a1a1a; padding: 12px; border-radius: 8px; margin-bottom: 10px;
            border: 1px solid #222; transition: 0.2s;
        }
        .cart-item:hover { border-color: var(--primary); }
        .remove-btn {
            background: rgba(255,50,50,0.2); color: #ff5555; border: none; width: 25px; height: 25px;
            border-radius: 5px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-weight: 900;
        }
        .remove-btn:hover { background: #ff5555; color: white; }

        .profile-expanded {
            max-width: 1000px !important; width: 95% !important; padding: 0 !important;
            display: flex; min-height: 600px; overflow: hidden; text-align: left !important;
        }
        .profile-sidebar {
            width: 280px; background: #080808; border-right: 1px solid #222; padding: 40px 25px;
            display: flex; flex-direction: column; gap: 10px;
        }
        .sidebar-user { text-align: center; margin-bottom: 30px; }
        .sidebar-user img { width: 85px; height: 85px; border-radius: 50%; border: 3px solid var(--primary); padding: 3px; margin-bottom: 12px; object-fit: cover; }
        .sidebar-user h4 { font-size: 1.1rem; color: white; font-weight: 900; }
        .sidebar-user p { font-size: 0.75rem; color: var(--primary); font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }

        .sidebar-item {
            padding: 14px 18px; border-radius: 12px; cursor: pointer; color: var(--text-dim);
            font-weight: 700; font-size: 0.9rem; transition: 0.3s; display: flex; align-items: center; gap: 12px;
        }
        .sidebar-item:hover { background: #151515; color: white; }
        .sidebar-item.active { background: rgba(255, 77, 0, 0.1); color: var(--primary); border-left: 4px solid var(--primary); }

        .profile-body { flex: 1; padding: 50px; overflow-y: auto; background: #111; }
        .profile-section { display: none; }
        .profile-section.active { display: block; animation: fadeInUp 0.4s ease; }

        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 25px; }
        .stat-box { background: #000; padding: 25px; border-radius: 20px; border: 1px solid #222; transition: 0.3s; }
        .stat-box:hover { border-color: var(--primary); transform: translateY(-5px); }
        .stat-box small { color: var(--text-dim); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; }
        .stat-box h3 { color: var(--primary); margin-top: 8px; font-size: 1.8rem; font-weight: 900; }

        .plan-item { 
            background: #000; border: 1px solid #222; padding: 20px; border-radius: 20px; 
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;
            transition: 0.3s;
        }
        .plan-item:hover { border-color: #444; }
        .plan-info h4 { color: white; margin-bottom: 5px; font-size: 1rem; }
        .plan-status { font-size: 0.65rem; padding: 4px 10px; border-radius: 8px; background: rgba(0,255,0,0.1); color: #00ff00; font-weight: 900; }
        .btn-download { background: #1a1a1a; color: white; padding: 10px 20px; border-radius: 10px; border: 1px solid #333; cursor: pointer; font-weight: 700; font-size: 0.8rem; transition: 0.3s; }
        .btn-download:hover { background: var(--primary); border-color: var(--primary); color: white; }

        .achievements { display: flex; gap: 15px; margin-top: 20px; }
        .ach-icon { width: 55px; height: 55px; background: #1a1a1a; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; filter: grayscale(1); opacity: 0.4; transition: 0.3s; }
        .ach-icon.unlocked { filter: grayscale(0); opacity: 1; border: 1px solid var(--primary); background: rgba(255,77,0,0.1); cursor: help; }

        .avatar-options { display: flex; gap: 10px; justify-content: flex-start; margin: 15px 0 25px; overflow-x: auto; padding-bottom: 10px; }
        .avatar-img { width: 50px; height: 50px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; transition: 0.2s; flex-shrink: 0; }
        .avatar-img:hover { transform: scale(1.1); }
        .avatar-img.active-avatar { border-color: var(--primary); }

        .settings-group { margin-bottom: 25px; background: #000; padding: 20px; border-radius: 15px; border: 1px solid #222; }
        .settings-group h4 { font-size: 0.8rem; color: var(--primary); text-transform: uppercase; margin-bottom: 15px; letter-spacing: 1px; }

        .toggle-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .toggle-row span { font-size: 0.9rem; color: white; }
        
        .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 20px; }
        .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary); }
        input:checked + .slider:before { transform: translateX(20px); }

        .newsletter-footer {
            background-color: #333; padding: 40px 10%; display: flex;
            justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;
        }
        .newsletter-text h2 { font-weight: 900; font-size: 1.5rem; }
        .newsletter-text p { font-size: 0.9rem; opacity: 0.9; }
        .newsletter-form { display: flex; gap: 10px; flex: 1; max-width: 500px; }
        .newsletter-form input { margin: 0; background: white; color: black; border: none; }
        .newsletter-form button { 
            background: var(--m-blue); color: white; padding: 0 25px; 
            border-radius: 12px; border: none; font-weight: 700; cursor: pointer;
            text-transform: uppercase; font-size: 0.8rem;
        }

        .footer-main {
            background-color: #050505; padding: 60px 10%; display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; text-align: left;
        }
        .footer-col h4 { margin-bottom: 20px; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; }
        .footer-col ul { list-style: none; }
        .footer-col ul li { margin-bottom: 10px; }
        .footer-col ul li a { color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.85rem; transition: 0.3s; }
        .footer-col ul li a:hover { color: white; padding-left: 5px; }

        .footer-bottom { 
            background: #000000; padding: 20px 10%; text-align: center; 
            font-size: 0.7rem; color: rgba(255,255,255,0.5); 
        }

        #sales-notification {
            position: fixed; bottom: 20px; left: 20px; background: var(--card-bg);
            border: 1px solid var(--primary); padding: 15px; border-radius: 15px;
            display: flex; align-items: center; gap: 15px; z-index: 4000;
            transform: translateX(-150%); transition: 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        #sales-notification.show { transform: translateX(0); }

        .timer-banner { background: var(--primary); color: white; padding: 10px; text-align: center; font-weight: 900; font-size: 0.8rem; letter-spacing: 1px; }

        html { scroll-behavior: smooth; }
        /* --- FIT-PRO TABUƒΩKA ≈†T√ùLY --- */
.comparison-section {
    padding: 100px 10%;
    background: #050505;
}
.comparison-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 30px;
    background: var(--card-bg);
    border-radius: 20px;
    overflow: hidden;
    border: 1px solid #1a1a1a;
}
.comparison-table th, .comparison-table td {
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid #1a1a1a;
}
.comparison-table th {
    background: #111;
    color: var(--primary);
    text-transform: uppercase;
    font-size: 0.9rem;
    font-weight: 900;
}
.comparison-table td:first-child {
    text-align: left;
    font-weight: 700;
    color: var(--text-dim);
}
.comparison-table .check { color: var(--success); font-weight: 900; }
.comparison-table .cross { color: #ff3232; font-weight: 900; }
.pro-column { background: rgba(255, 77, 0, 0.05); border-left: 2px solid var(--primary); border-right: 2px solid var(--primary); }
/* KOMPLETN√Å OPRAVA SVETL√âHO RE≈ΩIMU */
body.light-mode {
    --bg: #ffffff;
    --text: #0a0a0a;
    --card-bg: #f0f0f0;
    --text-dim: #444444;
}

/* Oprava navigaƒçnej li≈°ty */
body.light-mode nav {
    background: rgba(255, 255, 255, 0.98) !important;
    border-bottom: 2px solid #eeeeee !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05) !important;
}

/* V≈°etky texty v navig√°cii na ƒåIERNO */
body.light-mode nav a, 
body.light-mode nav .logo, 
body.light-mode nav div,
body.light-mode .nav-links a {
    color: #000000 !important;
}

/* Oprava BMI tabuƒæky a kariet pl√°nov v svetlom re≈æime */
body.light-mode .bmi-card, 
body.light-mode .plan-card {
    background: #ffffff !important;
    border: 1px solid #dddddd !important;
    color: #000000 !important;
}

body.light-mode .bmi-card h2, 
body.light-mode .bmi-card h3,
body.light-mode .plan-card h3 {
    color: #000000 !important;
}

/* Vstupn√© polia v svetlom re≈æime */
body.light-mode input {
    background: #f9f9f9 !important;
    border: 2px solid #dddddd !important;
    color: #000000 !important;
}

/* Ikona v prep√≠naƒçi */
body.light-mode .theme-switch {
    background: #eeeeee;
    color: #000000;
}

/* --- COOKIE BANNER ≈†T√ùLY --- */
.cookie-overlay {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 600px;
    background: rgba(15, 15, 15, 0.95);
    border: 1px solid var(--primary);
    border-radius: 20px;
    padding: 25px;
    display: none; /* Skryt√©, k√Ωm JS nepovie inak */
    flex-direction: column;
    gap: 15px;
    z-index: 10000;
    box-shadow: 0 10px 50px rgba(0,0,0,0.8);
    backdrop-filter: blur(10px);
    animation: slideUp 0.5s ease-out;
}

@keyframes slideUp {
    from { transform: translate(-50%, 100px); opacity: 0; }
    to { transform: translate(-50%, 0); opacity: 1; }
}

.cookie-content h3 {
    color: var(--primary);
    font-weight: 900;
    margin-bottom: 5px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 10px;
}

.cookie-content p {
    font-size: 0.85rem;
    color: var(--text-dim);
    line-height: 1.5;
}

.cookie-actions {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.btn-cookie-accept {
    flex: 1;
    background: var(--primary);
    color: white;
    border: none;
    padding: 12px;
    border-radius: 10px;
    font-weight: 900;
    cursor: pointer;
    text-transform: uppercase;
    transition: 0.3s;
}

.btn-cookie-accept:hover {
    background: #ff6600;
    box-shadow: 0 0 15px var(--primary-glow);
}

.btn-cookie-decline {
    flex: 1;
    background: transparent;
    color: var(--text-dim);
    border: 1px solid #333;
    padding: 12px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
}

.btn-cookie-decline:hover {
    border-color: #fff;
    color: #fff;
}
/* MODERN√ù WORKOUT ENGINE PRO */
.side-panel {
    position: fixed;
    top: 0;
    right: -520px; 
    width: 520px;
    height: 100%;
    background: rgba(8, 8, 8, 0.95);
    backdrop-filter: blur(25px);
    border-left: 1px solid rgba(255, 77, 0, 0.2);
    z-index: 9999;
    transition: 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    flex-direction: column;
    box-shadow: -15px 0 50px rgba(0,0,0,0.8);
}

.side-panel.active { right: 0; }

.side-header {
    padding: 30px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.workout-stats-mini {
    display: flex;
    gap: 20px;
    margin-top: 15px;
}

.stat-v {
    font-size: 0.7rem;
    color: var(--text-dim);
}

.stat-v span {
    display: block;
    color: var(--primary);
    font-weight: 900;
    font-size: 1rem;
}

/* Karty cvikov */
.exercise-card {
    background: #121212;
    border: 1px solid #222;
    border-radius: 18px;
    padding: 20px;
    margin: 0 25px 20px 25px;
    transition: 0.3s;
}

.exercise-card:hover { border-color: var(--primary-glow); }

.set-row {
    display: grid;
    grid-template-columns: 30px 1fr 60px 60px 60px 30px;
    gap: 10px;
    align-items: center;
    margin-top: 10px;
    padding: 5px 0;
}

.set-type {
    font-size: 0.6rem;
    font-weight: 900;
    background: #222;
    color: var(--text-dim);
    border-radius: 4px;
    text-align: center;
    padding: 2px 0;
    cursor: pointer;
}

.set-type.dropset { color: #0088ff; border: 1px solid #0088ff; }
.set-type.warmup { color: #ffcc00; border: 1px solid #ffcc00; }

.set-input {
    background: #000;
    border: 1px solid #333;
    color: white;
    padding: 8px;
    border-radius: 6px;
    text-align: center;
    font-size: 0.9rem;
    width: 100%;
}

.set-input:focus { border-color: var(--primary); outline: none; }

.add-set-btn {
    background: none;
    border: 1px dashed #444;
    color: #666;
    width: 100%;
    padding: 8px;
    border-radius: 8px;
    margin-top: 15px;
    cursor: pointer;
    font-size: 0.75rem;
    font-weight: bold;
}

.add-set-btn:hover { border-color: var(--primary); color: var(--primary); }
    </style>
</head>
<body id="main-body">

    <div class="timer-banner" id="promo-banner">LIMITOVAN√Å PONUKA KONƒå√ç O: <span id="countdown">00:00:00</span> | PR√ÅVE PREZER√Å: <span id="active-users">24</span> ƒΩUD√ç</div>

    <section id="auth-screen" class="overlay-screen">
        <div class="auth-container">
            <div class="logo" style="margin-bottom: 20px;">FIT<span>PROGRESS</span></div>
            <div class="auth-tabs">
                <button class="tab-btn active" id="tab-login" onclick="switchAuth('login')">Prihl√°senie</button>
                <button class="tab-btn" id="tab-reg" onclick="switchAuth('reg')">Registr√°cia</button>
            </div>
            <div id="auth-fields">
                <h2 id="auth-title">Vitaj sp√§≈•!</h2>
                <input type="email" id="email" placeholder="Emailov√° adresa">
                <input type="password" id="password" placeholder="Heslo">
                <div id="reg-extra" style="display: none;">
                    <input type="text" id="username" placeholder="Cel√© meno">
                </div>
                <button class="btn-cta" style="width: 100%; padding: 15px; margin-top: 10px;" onclick="handleAuth()">POKRAƒåOVA≈§</button>
            </div>
        </div>
    </section>

    <div id="news-popup">
        <div class="auth-container" id="news-content">
            <h2 style="color: var(--primary);">POƒåKAJ! üéÅ</h2>
            <p style="margin: 15px 0; color: var(--text-dim);">Neodch√°dzaj napr√°zdno. Z√≠skaj n√°≈° <b>TOP 5 Recept√°r</b> pre svalov√Ω rast √∫plne zadarmo do e-mailu.</p>
            <input type="email" id="news-email" placeholder="Tvoj najlep≈°√≠ email">
            <button class="btn-cta" style="width: 100%; margin-top: 10px;" onclick="submitNewsletter()">POSLA≈§ RECEPTY</button>
            <p style="cursor: pointer; margin-top: 15px; font-size: 0.7rem; color: #444;" onclick="closeNews()">Nie, chcem rad≈°ej pokraƒçova≈• v n√°kupoch</p>
        </div>
    </div>

    <section id="onboarding-screen" class="overlay-screen">
        <div class="auth-container" style="max-width: 500px;">
            <h2 id="welcome-user">Skvel√©!</h2>
            <p style="color: var(--text-dim); margin-bottom: 20px;">Povedz n√°m o svojich cieƒæoch.</p>
            <div style="text-align: left;">
                <label style="font-size: 0.8rem; color: var(--primary); font-weight: 700;">AK√ù JE TVOJ CIEƒΩ?</label>
                <select id="goal">
                    <option value="objem">Chcem nabra≈• mas√≠vny objem</option>
                    <option value="chudnutie">Chcem schudn√∫≈• a vyrysova≈•</option>
                    <option value="sila">Chcem len silu a kond√≠ciu</option>
                </select>
                <label style="font-size: 0.8rem; color: var(--primary); font-weight: 700;">PREƒåO SI TU? (TVOJA MOTIV√ÅCIA)</label>
                <textarea id="motivation" placeholder="Napr. Chcem sa c√≠ti≈• lep≈°ie v plavk√°ch..."></textarea>
                <label style="font-size: 0.8rem; color: var(--primary); font-weight: 700;">SK√öSENOSTI S CVIƒåEN√çM</label>
                <select id="experience">
                    <option value="0">√öpln√Ω zaƒçiatoƒçn√≠k</option>
                    <option value="1">Cviƒç√≠m menej ako rok</option>
                    <option value="2">Sk√∫sen√Ω (1-3 roky)</option>
                    <option value="3">Pro (viac ako 3 roky)</option>
                </select>
            </div>
            <button class="btn-cta" style="width: 100%; padding: 15px; margin-top: 20px;" onclick="finishOnboarding()">DOKONƒåI≈§ NASTAVENIE</button>
        </div>
        
    </section>

    <div id="main-web-content">
        <nav>
            <div class="logo">FIT<span>PROGRESS</span></div>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Hƒæada≈• produkt..." id="site-search" onkeyup="filterSearch()">
                <div class="search-results" id="search-results">
                    </div>
            </div>

            <div class="links">
                <a href="#">Domov</a>
                
                <div class="dropdown">
                    <a href="#" style="cursor: default;">Produkty ‚ñæ</a>
                    <div class="dropdown-content">
                        <div class="submenu">
                            <a href="proteiny.html">Prote√≠ny <span style="float:right;">‚ñ∏</span></a>
                            <div class="submenu-content">
                                <a href="srvatkovy-koncentrat.html">Srv√°tkov√Ω Koncentr√°t</a>
                                <a href="srvatkovy-izolat.html">Srv√°tkov√Ω Izol√°t</a>
                                <a href="vegansky-protein.html">Veg√°nsky Prote√≠n</a>
                                <a href="nocny-kazein.html">Noƒçn√Ω Kaze√≠n</a>
                            </div>
                        </div>
                        <div class="submenu">
                            <a href="kreatin.html">Kreat√≠n <span style="float:right;">‚ñ∏</span></a>
                           <div class="submenu-content">
                               <a href="kreatin-monohydrat.html">Kreat√≠n Monohydr√°t</a>
                               <a href="kreatin-hc1.html">Kreat√≠n HCl</a>
                               <a href="kre-alkalyn.html">Kre-Alkalyn</a>
                               <a href="viaczlozkove-kreatiny.html">Viaczlo≈ækov√© kreat√≠ny</a>
                            </div>
                        </div>
                        
                        <div class="submenu">
    <a href="predtreningovky.html">Predtr√©ningovky <span style="float:right;">‚ñ∏</span></a>
    <div class="submenu-content">
        <a href="stimulanty.html">So stimulantmi (Kofe√≠n)</a>
        <a href="pumpa.html">Bez stimulantov (Pumpa)</a>
        <a href="shopy.html">Tekut√© (Shot)</a>
        <a href="focus.html">Focus & Energia</a>
    </div>
</div>
                        
                        <div class="submenu">
    <a href="vitaminy.html">Vitam√≠ny a Miner√°ly <span style="float:right;">‚ñ∏</span></a>
    <div class="submenu-content">
        <a href="multivitaminy.html">Multivitam√≠ny</a>
        <a href="klbova-vyziva.html">Kƒ∫bov√° v√Ω≈æiva</a>
        <a href="magnezium-zinok.html">Magn√©zium a Zinok</a>
        <a href="omega-3.html">Omega 3 (Ryb√≠ olej)</a>
        <a href="imunita.html">Podpora imunity</a>
    </div>
</div>
                        
                        <div class="submenu">
    <a href="prislusenstvo.html">Pr√≠slu≈°enstvo <span style="float:right;">‚ñ∏</span></a>
    <div class="submenu-content">
        <a href="trhacky-opasky.html">Trhaƒçky a Opasky</a>
        <a href="sejkre-flase.html">≈†ejkre a Fƒæa≈°e</a>
        <a href="rukavice.html">Rukavice na cviƒçenie</a>
        <a href="odporove-gumy.html">Odporov√© gumy</a>
        <a href="ostatne.html">Ostatn√© doplnky</a>
    </div>
</div>
                    </div>
                </div>

                <div class="dropdown">
                    <a href="#ponuka" style="cursor: default;">Pl√°ny ‚ñæ</a>
                    <div class="dropdown-content">
                        <a href="#card-objem">Objemov√Ω Kr√°ƒæ</a>
                        <a href="#card-chudnutie">Rysovacia Biblia</a>
                        <a href="#card-sila">Dom√°ci Warrior</a>
                        <a href="#">Individu√°lny Coaching</a>
                    </div>
                </div>

                <a href="#bmi">Kalkulaƒçka</a>
                <a href="kontakt.html">Kontakt</a>
                <button class="cart-btn" id="cart-nav-btn" onclick="openCart()">KO≈†√çK (<span id="cart-count">0</span>)</button>
                <div class="theme-switch" onclick="toggleTheme()" title="Zmeni≈• re≈æim">
    <span id="theme-icon">üåô</span>
    
</div>

                <div class="profile-icon" id="user-profile-btn" onclick="openProfile()">
                    <svg viewBox="0 0 24 24" id="default-svg"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                </div>

                <button class="cart-btn" style="background: transparent; color: red;" onclick="logout()">ODHL√ÅSI≈§</button>
            </div>
        </nav>

        <header class="hero">
            <video autoplay muted loop playsinline class="hero-video-bg">
                <source src="https://www.pexels.com/download/video/5319760/" type="video/mp4">
            </video>

            <div class="hero-text">
                <h1 id="dynamic-title">Zme≈à svoje telo,<br><span>zme≈à svoj ≈æivot</span></h1>
                <p>Naj√∫spe≈°nej≈°ia platforma pre natur√°lnu transform√°ciu na Slovensku. Pridaj sa k stovk√°m spokojn√Ωch klientov.</p>
                <a href="#ponuka" class="btn-cta">Pozrie≈• ponuku</a>

                <div class="social-proof">
                    <div class="user-avatars">
                        <img src="https://i.pravatar.cc/100?u=1" alt="User">
                        <img src="https://i.pravatar.cc/100?u=2" alt="User">
                        <img src="https://i.pravatar.cc/100?u=3" alt="User">
                    </div>
                    <span>+ 482 ƒæud√≠ dnes zaƒçalo tr√©nova≈•</span>
                </div>
            </div>
            <div id="side-tracker" class="side-panel">
    <div class="side-handle" onclick="toggleTracker()">
        <span>ENGINE PRO ‚ö°</span>
    </div>

    <div class="side-header">
        <h2 style="margin:0;">WORKOUT <span style="color:var(--primary);">LOG</span></h2>
        <div class="stats-row">
            <div class="mini-stat">Objem <span id="total-vol">0 kg</span></div>
            <div class="mini-stat">S√©rie <span id="total-s">0</span></div>
            <div class="mini-stat">ƒåas <span id="timer">0:00</span></div>
        </div>
    </div>

    <div class="part-tabs">
        <button class="tab-btn" onclick="showExercises('Prsia')">PRSIA</button>
        <button class="tab-btn" onclick="showExercises('Chrb√°t')">CHRB√ÅT</button>
        <button class="tab-btn" onclick="showExercises('Nohy')">NOHY</button>
        <button class="tab-btn" onclick="showExercises('Ramen√°')">RAMEN√Å</button>
        <button class="tab-btn" onclick="showExercises('Ruky')">RUKY</button>
    </div>

    <div id="exercise-picker" style="padding: 0 30px 10px 30px; display:none; flex-wrap: wrap; gap: 5px;"></div>

    <div id="workout-content" style="flex-grow:1; overflow-y:auto; padding-top: 10px;">
        <p id="empty-msg" style="text-align:center; color:#444; margin-top:50px;">Zatiaƒæ ≈æiadne cviky. Vyber partiu hore!</p>
    </div>

    <div style="padding:25px; border-top: 1px solid rgba(255,255,255,0.05);">
        <button onclick="finishWorkout()" class="btn" style="width:100%; border-radius:12px;">DOKONƒåI≈§ TR√âNING</button>
    </div>
</div>
</div>
        </header>

        <div class="trust-bar">
            <div class="trust-item"><span>‚úî</span> Garancia vr√°tenia pe≈àaz√≠</div>
            <div class="trust-item"><span>‚òÖ</span> 5000+ Spokojn√Ωch klientov</div>
            <div class="trust-item"><span>üîí</span> Bezpeƒçn√° platba SSL</div>
            <div class="trust-item"><span>‚ö°</span> Okam≈æit√Ω pr√≠stup</div>
        </div>
<section id="bmi" style="padding: 40px 5%; width: 100%;">
    <div class="bmi-card" style="display: flex; flex-direction: column; width: 100%; max-width: 1600px; margin: 0 auto; padding: 35px 50px; border: 1px solid #222; background: #080808; border-radius: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.3);">
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 35px; border-bottom: 1px solid #1a1a1a; padding-bottom: 25px;">
            <div>
                <h2 style="font-weight: 900; letter-spacing: -2px; font-size: 2rem; margin: 0;">FIT-PRO <span style="color: var(--primary);">DIAGNOSTIKA</span></h2>
                <div id="save-status" style="font-size: 0.65rem; color: var(--success); margin-top: 5px; opacity: 0; transition: 0.3s;">‚óè √öDAJE SYNCHRONIZOVAN√â S PROFILOM</div>
            </div>
            
            <div style="display: flex; background: #000; padding: 6px; border-radius: 12px; border: 1px solid #333;">
                <button id="btn-bmi-mode" class="tab-btn active" onclick="setCalcMode('bmi')" style="font-size: 0.75rem; padding: 10px 25px;">BMI INDEX</button>
                <button id="btn-fat-mode" class="tab-btn" onclick="setCalcMode('fat')" style="font-size: 0.75rem; padding: 10px 25px;">BODY FAT %</button>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1.2fr 1.5fr; gap: 50px; align-items: start;">
            
            <div style="background: #000; padding: 25px; border-radius: 20px; border: 1px solid #1a1a1a;">
                <label style="font-size: 0.65rem; color: var(--primary); font-weight: 900; letter-spacing: 1px; display: block; margin-bottom: 15px; text-transform: uppercase;">Z√°kladn√© biometrick√© √∫daje</label>
                
                <div style="display: grid; gap: 15px;">
                    <div style="position: relative;">
                        <span style="position: absolute; right: 15px; top: 15px; color: #444; font-size: 0.8rem;">cm</span>
                        <input type="number" id="height" placeholder="V√Ω≈°ka" oninput="calculateAndSave()" style="padding: 15px; background: #0a0a0a; border: 1px solid #222; border-radius: 10px; width: 100%; color: #fff;">
                    </div>
                    <div style="position: relative;">
                        <span style="position: absolute; right: 15px; top: 15px; color: #444; font-size: 0.8rem;">kg</span>
                        <input type="number" id="weight" placeholder="V√°ha" oninput="calculateAndSave()" style="padding: 15px; background: #0a0a0a; border: 1px solid #222; border-radius: 10px; width: 100%; color: #fff;">
                    </div>
                    
                    <div id="fat-extra-inputs" style="display: none; gap: 15px; grid-template-columns: 1fr 1fr;">
                        <input type="number" id="neck" placeholder="Krk" oninput="calculateAndSave()" style="padding: 15px; background: #0a0a0a; border: 1px solid #222; border-radius: 10px; width: 100%; color: #fff;">
                        <input type="number" id="waist" placeholder="P√°s" oninput="calculateAndSave()" style="padding: 15px; background: #0a0a0a; border: 1px solid #222; border-radius: 10px; width: 100%; color: #fff;">
                    </div>
                </div>
            </div>

            <div style="text-align: center; padding: 10px 0;">
                <div id="res-bmi">
                    <span id="bmi-val" style="font-size: 6rem; font-weight: 900; color: #fff; line-height: 0.9; letter-spacing: -4px;">0.0</span>
                    <div id="bmi-status" style="margin-top: 15px; font-weight: 900; color: var(--primary); font-size: 0.9rem; letter-spacing: 2px;">ZADAJTE √öDAJE</div>
                    <div class="bmi-scale" style="height: 6px; background: #1a1a1a; border-radius: 3px; margin-top: 25px; position: relative;">
                        <div id="bmi-pointer" style="width: 4px; height: 18px; background: #fff; position: absolute; top: -6px; border-radius: 2px; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);"></div>
                    </div>
                </div>
                
                <div id="res-fat" style="display: none;">
                    <span id="fat-val" style="font-size: 6rem; font-weight: 900; color: var(--primary); line-height: 0.9; letter-spacing: -4px;">0%</span>
                    <div style="margin-top: 15px; font-weight: 900; color: #fff; font-size: 0.9rem; letter-spacing: 2px;">BODY FAT ESTIMATE</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div style="background: #111; padding: 15px; border-radius: 12px; border: 1px solid #1a1a1a;">
                    <small style="color: #444; font-size: 0.6rem; font-weight: 900; display: block; margin-bottom: 5px;">DENN√ù V√ùDAJ (BMR)</small>
                    <b id="bmr-val" style="font-size: 1.1rem; color: #fff;">0</b> <span style="font-size: 0.7rem; color: #444;">kcal</span>
                </div>
                <div style="background: #111; padding: 15px; border-radius: 12px; border: 1px solid #1a1a1a;">
                    <small style="color: #444; font-size: 0.6rem; font-weight: 900; display: block; margin-bottom: 5px;">IDE√ÅLNA V√ÅHA</small>
                    <b id="ideal-weight" style="font-size: 1.1rem; color: var(--success);">0</b> <span style="font-size: 0.7rem; color: #444;">kg</span>
                </div>
                <div style="background: #111; padding: 15px; border-radius: 12px; border: 1px solid #1a1a1a;">
                    <small style="color: #444; font-size: 0.6rem; font-weight: 900; display: block; margin-bottom: 5px;">VODA V TELE</small>
                    <b id="water-val" style="font-size: 1.1rem; color: #00ccff;">0</b> <span style="font-size: 0.7rem; color: #444;">L</span>
                </div>
                <div style="background: #111; padding: 15px; border-radius: 12px; border: 1px solid #1a1a1a;">
                    <small style="color: #444; font-size: 0.6rem; font-weight: 900; display: block; margin-bottom: 5px;">POVRCH TELA (BSA)</small>
                    <b id="bsa-val" style="font-size: 1.1rem; color: #ffcc00;">0</b> <span style="font-size: 0.7rem; color: #444;">m¬≤</span>
                </div>
                <div style="grid-column: span 2; background: rgba(255,77,0,0.05); padding: 15px; border-radius: 12px; border: 1px dashed #333; text-align: center;">
                     <span style="font-size: 0.7rem; color: var(--text-dim);">RIZIKO OCHOREN√ç: </span>
                     <b id="risk-level" style="font-size: 0.7rem; color: #fff; text-transform: uppercase;">N√≠zke</b>
                </div>
            </div>
        </div>
    </div>
</section>
    </div>
</section>
        <section id="plans" style="padding: 60px 5%; width: 100%; max-width: 1600px; margin: 0 auto;">
    <h2 style="font-weight: 900; letter-spacing: -2px; font-size: 2.5rem; margin-bottom: 40px; text-align: left;">
        TR√âNINGOV√â <span style="color: var(--primary);">PL√ÅNY</span>
    </h2>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px;">
        
        <div class="plan-card" style="background: #0f0f0f; border: 1px solid #222; padding: 40px; border-radius: 25px; transition: 0.3s; position: relative; overflow: hidden;">
            <div style="position: absolute; top: 0; right: 0; background: var(--primary); color: #fff; padding: 5px 20px; font-size: 0.7rem; font-weight: 900; transform: rotate(0deg);">BESTSELLER</div>
            <h3 style="font-size: 1.8rem; font-weight: 900; margin-bottom: 10px;">Objemov√Ω Kr√°ƒæ</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 25px;">Maxim√°lny n√°rast svalovej hmoty a sily. Overen√° metodika pre natur√°lov.</p>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 30px;">49‚Ç¨</div>
            <button class="btn-cta" onclick="addToCart('Objemov√Ω Kr√°ƒæ', 49)" style="width: 100%; padding: 18px; border-radius: 12px; font-size: 0.9rem;">DO KO≈†√çKA</button>
        </div>

        <div class="plan-card" style="background: #0f0f0f; border: 1px solid #222; padding: 40px; border-radius: 25px; transition: 0.3s;">
            <h3 style="font-size: 1.8rem; font-weight: 900; margin-bottom: 10px;">Rysovacia Biblia</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 25px;">Extr√©mne spaƒæovanie tuku bez straty svalov. Detailn√Ω jed√°lniƒçek v cene.</p>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 30px;">39‚Ç¨</div>
            <button class="btn-cta" onclick="addToCart('Rysovacia Biblia', 39)" style="width: 100%; padding: 18px; border-radius: 12px; font-size: 0.9rem;">DO KO≈†√çKA</button>
        </div>

        <div class="plan-card" style="background: #0f0f0f; border: 1px solid #222; padding: 40px; border-radius: 25px; transition: 0.3s;">
            <h3 style="font-size: 1.8rem; font-weight: 900; margin-bottom: 10px;">Dom√°ci Warrior</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 25px;">Tr√©ning s vlastnou v√°hou a pom√¥ckami. V√Ωsledky priamo z ob√Ωvaƒçky.</p>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 30px;">29‚Ç¨</div>
            <button class="btn-cta" onclick="addToCart('Dom√°ci Warrior', 29)" style="width: 100%; padding: 18px; border-radius: 12px; font-size: 0.9rem;">DO KO≈†√çKA</button>
        </div>

    </div>
</section>

<style>
    /* LIGHT MODE DEFIN√çCIA */
body.light-mode {
    --bg: #f5f5f5;
    --text: #050505;
    --card-bg: #ffffff;
    --text-dim: #555;
}

body.light-mode .bmi-card, 
body.light-mode .plan-card,
body.light-mode nav {
    background: #ffffff !important;
    border-color: #ddd !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05) !important;
}

body.light-mode input, 
body.light-mode select {
    background: #eee !important;
    color: #000 !important;
    border-color: #ccc !important;
}

/* ≈†T√ùL PRE TLAƒåIDLO PREP√çNAƒåA */
.theme-switch {
    cursor: pointer;
    padding: 10px;
    border-radius: 50%;
    background: #111;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.3s;
    border: 1px solid #333;
    width: 40px;
    height: 40px;
}

body.light-mode .theme-switch {
    background: #eee;
    border-color: #ccc;
}
    .plan-card:hover {
        border-color: var(--primary) !important;
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(255, 77, 0, 0.1);
    }
/* --- BEFORE & AFTER SLIDER --- */
.transformation-section {
    padding: 60px 10%;
    text-align: center;
    background: #080808;
}

.ba-container {
    position: relative;
    width: 100%;
    max-width: 600px;
    height: 400px;
    margin: 0 auto;
    border: 2px solid var(--primary);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(255, 77, 0, 0.2);
}

.ba-img-container {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    overflow: hidden;
}

.ba-img-container img {
    width: 100%; height: 100%;
    object-fit: cover;
    object-position: left; /* D√¥le≈æit√© pre zarovnanie */
}

/* Modifikovan√Ω (vrchn√Ω) obr√°zok sa bude orez√°va≈• */
.ba-img-container.modified {
    width: 50%; /* Zaƒç√≠na na 50% */
    border-right: 2px solid white;
    z-index: 2;
}

/* ≈†t√Ωl pre posuvn√≠k (input range) - rob√≠me ho neviditeƒæn√Ωm, ale funkƒçn√Ωm cez cel√∫ ≈°√≠rku */
.ba-slider {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 10;
    opacity: 0;
    cursor: e-resize;
    margin: 0;
}

/* Vizu√°lna ƒçiara a tlaƒçidlo */
.ba-line {
    position: absolute;
    top: 0; bottom: 0; left: 50%;
    width: 2px;
    background: #fff;
    z-index: 5;
    pointer-events: none; /* Aby neblokovala kliknutia */
}

.ba-button {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 40px; height: 40px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: bold;
    z-index: 6;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    pointer-events: none;
}
</style>
<section class="transformation-section">
    <h2 class="section-title">SKUTOƒåN√â <span>V√ùSLEDKY</span></h2>
    
    <div class="ba-container">
        <div class="ba-img-container modified">
            <img src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="After">
        </div>
        
        <div class="ba-img-container">
            <img src="https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Before">
        </div>
        
        <input type="range" min="0" max="100" value="50" class="ba-slider" oninput="slideCompare(this)">
        <div class="ba-line"></div>
        <div class="ba-button">‚Üî</div>
    </div>
    
    <p style="text-align: center; margin-top: 20px; color: var(--text-dim);">
        Marek (24 r.) - V√Ωsledok po 3 mesiacoch programu <b>Objemov√Ω Kr√°ƒæ</b>
    </p>
</section>
        </section>

        <div class="newsletter-footer">
            <div class="newsletter-text">
                <h2>Tr√©ningy & Rady Zdarma</h2>
                <p>Budeme ti posiela≈• najnov≈°ie pl√°ny, vide√° a expertn√© n√°vody.</p>
            </div>
            <div class="newsletter-form">
                <input type="email" placeholder="Emailov√° adresa">
                <button onclick="alert('ƒéakujeme za odber!')">Odobera≈•</button>
            </div>
        </div>

        <footer class="footer-main">
            <div class="footer-col">
                <div class="logo">FIT<span>PROGRESS</span></div>
                <p style="font-size: 0.8rem; margin-top: 15px; color: rgba(255,255,255,0.6);">Sme tvoj partner na ceste za lep≈°√≠m ja. Kvalitn√© pl√°ny podlo≈æen√© vedou.</p>
            </div>
            <div class="footer-col">
                <h4>Z√°kazn√≠cky servis</h4>
                <ul>
                    <li><a href="javascript:void(0)" onclick="openHelpModal()">Centrum pomoci</a></li>
                    <li><a href="javascript:void(0)" onclick="openOrderModal()">Sledova≈• objedn√°vku</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>O n√°s</h4>
                <ul>
                    <li><a href="javascript:void(0)" onclick="openStoryModal()">N√°≈° pr√≠beh</a></li>
                    <li><a href="#">Kari√©ra</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Spolupr√°ca</h4>
                <ul>
                    <li><a href="#">Affiliate program</a></li>
                </ul>
            </div>
        </footer>

        <div class="footer-bottom">
            &copy; 2006-2026 FitProgress, LLC. V≈°etky pr√°va vyhraden√©. | Ochrana √∫dajov | Podmienky pou≈æ√≠vania
        </div>
    </div>

    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <h2 style="color: var(--primary);">TVOJ KO≈†√çK</h2>
            <div id="cart-items" style="margin: 20px 0; max-height: 250px; overflow-y: auto;"></div>
            <div class="progress-container"><div class="progress-bar" id="cart-progress"></div></div>
            <p id="shipping-info" style="font-size: 0.8rem; color: var(--text-dim); margin-bottom: 15px;">Doruƒçenie digit√°lne (0.00 ‚Ç¨)</p>
            <h3 id="cart-total">SPOLU: 0.00 ‚Ç¨</h3>
            <button class="btn-cta" style="width: 100%; margin-top: 20px;" onclick="window.location.href='platba.html'">PLATBA</button>
            <p style="cursor: pointer; margin-top: 15px; font-size: 0.8rem;" onclick="closeCart()">Pokraƒçova≈• v n√°kupe</p>
        </div>
    </div>

    <div id="profile-modal" class="modal">
        <div class="modal-content profile-expanded">
            <div class="profile-sidebar">
                <div class="sidebar-user">
                    <img id="sidebar-avatar" src="https://i.pravatar.cc/100?u=9" alt="Avatar">
                    <h4 id="sidebar-name">Meno U≈æ√≠vateƒæa</h4>
                    <p>Premium Member</p>
                </div>
                <div class="sidebar-item active" onclick="switchProfileTab('dash', this)">
                    <span>üìä</span> Prehƒæad Progresu
                </div>
                <div class="sidebar-item" onclick="switchProfileTab('plans', this)">
                    <span>üìÇ</span> Moje Pl√°ny
                </div>
                <div class="sidebar-item" onclick="switchProfileTab('achieve', this)">
                    <span>üèÜ</span> √öspechy
                </div>
                <div class="sidebar-item" onclick="switchProfileTab('settings', this)">
                    <span>‚öôÔ∏è</span> Nastavenia
                </div>
                <div class="sidebar-item" onclick="switchProfileTab('advanced', this)">
                    <span>üöÄ</span> Pokroƒçil√©
                </div>
                <button class="btn-cta" style="margin-top: auto; width: 100%; font-size: 0.7rem; background: #222; box-shadow: none;" onclick="closeProfile()">Zavrie≈•</button>
            </div>
            <div class="profile-body">
                <div id="dash-section" class="profile-section active">
                    <h2 style="margin-bottom: 5px; color: var(--primary);">TVOJ DASHBOARD</h2>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-bottom: 25px;">Tvoj aktu√°lny progres a ≈°tatistiky.</p>
                    <div class="stat-grid">
                        <div class="stat-box"><small>BMI INDEX</small><h3 id="dash-bmi">--</h3></div>
                        <div class="stat-box"><small>V√ÅHA (KG)</small><h3 id="dash-weight">-- kg</h3></div>
                        <div class="stat-box"><small>AKT√çVNE DNI</small><h3>12</h3></div>
                    </div>
                    <h3 style="margin-top: 30px; font-size: 1rem; text-transform: uppercase;">Denn√Ω cieƒæ vody</h3>
                    <div class="progress-container" style="height: 12px;"><div class="progress-bar" style="width: 70%;"></div></div>
                    <p style="font-size: 0.75rem; color: var(--text-dim);">Vypit√©: 2.1L / Cieƒæ: 3.0L</p>
                </div>

                <div id="plans-section" class="profile-section">
                    <h2 style="margin-bottom: 20px; color: var(--primary);">MOJE PL√ÅNY</h2>
                    <div class="plan-item">
                        <div class="plan-info">
                            <h4>Objemov√Ω Kr√°ƒæ 2.0</h4>
                            <span class="plan-status">AKT√çVNY</span>
                        </div>
                        <button class="btn-download">STIAHNU≈§</button>
                    </div>
                    <div class="plan-item" style="opacity: 0.5;">
                        <div class="plan-info">
                            <h4>Jed√°lniƒçek na mieru</h4>
                            <span class="plan-status" style="background: orange; color: white;">ƒåAK√Å NA PLATBU</span>
                        </div>
                        <button class="btn-download" disabled>ZAMKNUT√â</button>
                    </div>
                </div>

                <div id="achieve-section" class="profile-section">
                    <h2 style="margin-bottom: 20px; color: var(--primary);">DOSIAHNUT√â √öSPECHY</h2>
                    <div class="achievements">
                        <div class="ach-icon unlocked" title="Registr√°cia">üî•</div>
                        <div class="ach-icon unlocked" title="Prv√© BMI">üßÆ</div>
                        <div class="ach-icon" title="Prv√Ω n√°kup">üí∞</div>
                        <div class="ach-icon" title="Cieƒæov√° v√°ha">üéØ</div>
                        <div class="ach-icon" title="Discipl√≠na">ü¶æ</div>
                    </div>
                </div>

                <div id="settings-section" class="profile-section">
                    <h2 style="margin-bottom: 20px; color: var(--primary);">NASTAVENIA √öƒåTU</h2>
                    <div class="settings-group">
                        <h4>Osobn√© √∫daje</h4>
                        <input type="text" id="set-name" placeholder="Meno a priezvisko">
                        <input type="email" id="set-email" placeholder="Emailov√° adresa">
                        <input type="password" id="set-pass" placeholder="Nov√© heslo (ponechajte pr√°zdne pre zachovanie)">
                    </div>
                    <div class="settings-group">
                        <h4>Zmeni≈• Avatara</h4>
                        <div class="avatar-options">
                            <img src="https://i.pravatar.cc/100?u=1" class="avatar-img" onclick="changeAvatar(this.src, this)">
                            <img src="https://i.pravatar.cc/100?u=2" class="avatar-img" onclick="changeAvatar(this.src, this)">
                            <img src="https://i.pravatar.cc/100?u=3" class="avatar-img" onclick="changeAvatar(this.src, this)">
                            <img src="https://i.pravatar.cc/100?u=4" class="avatar-img" onclick="changeAvatar(this.src, this)">
                            <img src="https://i.pravatar.cc/100?u=5" class="avatar-img" onclick="changeAvatar(this.src, this)">
                            <img src="https://i.pravatar.cc/100?u=6" class="avatar-img" onclick="changeAvatar(this.src, this)">
                        </div>
                    </div>
                    <div class="settings-group">
                        <h4>Preferencie</h4>
                        <div class="toggle-row"><span>Emailov√© notifik√°cie</span><label class="switch"><input type="checkbox" id="pref-email" checked><span class="slider"></span></label></div>
                        <div class="toggle-row"><span>Tr√©ning v posil≈àovni</span><label class="switch"><input type="checkbox" id="pref-gym" checked><span class="slider"></span></label></div>
                        <div class="toggle-row"><span>Tmav√Ω re≈æim (V≈ædy On)</span><label class="switch"><input type="checkbox" checked disabled><span class="slider"></span></label></div>
                    </div>
                    <button class="btn-cta" style="width: 100%;" onclick="saveSettings()">ULO≈ΩI≈§ V≈†ETKY ZMENY</button>
                    <p id="save-msg" style="color: var(--success); text-align: center; margin-top: 10px; font-size: 0.8rem; display: none;">Zmeny boli √∫spe≈°ne ulo≈æen√©!</p>
                </div>

                <div id="advanced-section" class="profile-section">
                    <h2 style="margin-bottom: 20px; color: var(--primary);">POKROƒåIL√â FUNKCIE</h2>
                    <div class="settings-group">
                        <h4>Hardcore Mode</h4>
                        <div class="toggle-row">
                            <span>Aktivova≈• Hardcore vizu√°l (ƒåerven√© pulzovanie)</span>
                            <label class="switch">
                                <input type="checkbox" id="hc-toggle" onchange="toggleHardcore()">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="settings-group">
                        <h4>Beta Funkcie</h4>
                        <div class="toggle-row"><span>Bio-Feedback Sync</span><label class="switch"><input type="checkbox" checked><span class="slider"></span></label></div>
                        <div class="toggle-row"><span>Anonymn√Ω re≈æim</span><label class="switch"><input type="checkbox"><span class="slider"></span></label></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="sales-notification"></div>
    

    <script>
        
        
        
        function toggleCookieBtn() {
            const isChecked = document.getElementById('cookie-check').checked;
            document.getElementById('cookie-accept-btn').disabled = !isChecked;
        }

        function acceptCookies() {
            document.getElementById('cookie-overlay').style.display = 'none';
            document.getElementById('auth-screen').style.display = 'flex';
        }

        function login() {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-web-content').style.display = 'block';
        }

        function toggleProfile() {
            const prof = document.getElementById('profile-section');
            const hero = document.getElementById('hero');
            const bmi = document.getElementById('bmi');

            if(prof.style.display === 'none') {
                prof.style.display = 'block';
                hero.style.display = 'none';
                bmi.style.display = 'none';
            } else {
                prof.style.display = 'none';
                hero.style.display = 'flex';
                bmi.style.display = 'block';
            }
        }
        function openStoryModal() {
    document.getElementById('story-modal').style.display = 'flex';
}

function closeStoryModal() {
    document.getElementById('story-modal').style.display = 'none';
}

// Nezabudni doplni≈• story-modal aj do tvojho window.onclick detektora, ak ho pou≈æ√≠va≈°:
// if (event.target == storyModal) storyModal.style.display = "none";
        function openHelpModal() {
    document.getElementById('help-modal').style.display = 'flex';
}

function closeHelpModal() {
    document.getElementById('help-modal').style.display = 'none';
}

// Voliteƒæn√©: Zavretie okna po kliknut√≠ mimo obsahu (podobne ako pri ostatn√Ωch)
window.onclick = function(event) {
    const helpModal = document.getElementById('help-modal');
    const orderModal = document.getElementById('order-modal');
    const cartModal = document.getElementById('cart-modal');
    const profileModal = document.getElementById('profile-modal');
    
    if (event.target == helpModal) helpModal.style.display = "none";
    if (event.target == orderModal) orderModal.style.display = "none";
    if (event.target == cartModal) cartModal.style.display = "none";
    if (event.target == profileModal) profileModal.style.display = "none";
}
        function openOrderModal() {
    const orderContent = document.getElementById('order-status-content');
    
    if (!loggedUser) {
        orderContent.innerHTML = `<p style="text-align:center;">Pre zobrazenie objedn√°vok sa mus√≠te najsk√¥r prihl√°si≈•.</p>`;
    } else {
        // Simulujeme √∫daje o objedn√°vke z profilu a aktu√°lneho ko≈°√≠ka
        const orderNumber = Math.floor(100000 + Math.random() * 900000); // N√°hodn√© ƒç√≠slo objedn√°vky
        
        let productsHtml = cart.length > 0 
            ? cart.map(item => `<li>${item.name} (${item.price.toFixed(2)} ‚Ç¨)</li>`).join('')
            : "<li>≈Ωiadne akt√≠vne produkty v ko≈°√≠ku</li>";

        orderContent.innerHTML = `
            <div style="background: #1a1a1a; padding: 15px; border-radius: 10px; border-left: 4px solid var(--primary); margin-bottom: 20px;">
                <p style="font-size: 0.8rem; color: var(--primary); font-weight: 900;">STAV: PRIPRAVUJE SA</p>
                <p style="font-size: 0.9rem;">ƒå√≠slo objedn√°vky: <b>#${orderNumber}</b></p>
            </div>
            
            <div style="margin-bottom: 15px;">
                <h4 style="font-size: 0.8rem; text-transform: uppercase; color: var(--text-dim);">Doruƒçovacie √∫daje:</h4>
                <p style="font-size: 0.9rem;"><b>Meno:</b> ${loggedUser.name}</p>
                <p style="font-size: 0.9rem;"><b>Email:</b> ${loggedUser.email}</p>
                <p style="font-size: 0.9rem;"><b>Telef√≥n:</b> +421 9xx xxx xxx</p>
            </div>

            <div>
                <h4 style="font-size: 0.8rem; text-transform: uppercase; color: var(--text-dim);">Objednan√Ω tovar:</h4>
                <ul style="font-size: 0.85rem; padding-left: 20px; margin-top: 5px; color: #ccc;">
                    ${productsHtml}
                </ul>
            </div>
        `;
    }
    document.getElementById('order-modal').style.display = 'flex';
}

function closeOrderModal() {
    document.getElementById('order-modal').style.display = 'none';
}
        // GLOBAL VARIABLES
        let authMode = 'login';
        let loggedUser = JSON.parse(localStorage.getItem('loggedUser'));
        let cart = JSON.parse(localStorage.getItem('fitCart')) || [];

        // SEARCH DATABASE (Doplnil som n√°zvy a linky, ktor√© m√°≈° v menu)
        const searchData = [
            { name: "Srv√°tkov√Ω Koncentr√°t", url: "srvatkovy-koncentrat.html" },
            { name: "Srv√°tkov√Ω Izol√°t", url: "srvatkovy-izolat.html" },
            { name: "Veg√°nsky Prote√≠n", url: "vegansky-protein.html" },
            { name: "Noƒçn√Ω Kaze√≠n", url: "nocny-kazein.html" },
            { name: "Kreat√≠n Monohydr√°t", url: "kreatin-monohydrat.html" },
            { name: "Kreat√≠n HCl", url: "kreatin-hc1.html" },
            { name: "Kre-Alkalyn", url: "kre-alkalyn.html" },
            { name: "Viaczlo≈ækov√© kreat√≠ny", url: "viaczlozkove-kreatiny.html" },
            { name: "So stimulantmi (Kofe√≠n)", url: "stimulanty.html" },
            { name: "Bez stimulantov (Pumpa)", url: "pumpa.html" },
            { name: "Tekut√© (Shot)", url: "shopy.html" },
            { name: "Focus & Energia", url: "focus.html" },
            { name: "Multivitam√≠ny", url: "multivitaminy.html" },
            { name: "Kƒ∫bov√° v√Ω≈æiva", url: "klbova-vyziva.html" },
            { name: "Magn√©zium a Zinok", url: "magnezium-zinok.html" },
            { name: "Omega 3", url: "omega-3.html" },
            { name: "Podpora imunity", url: "imunita.html" },
            { name: "Trhaƒçky a Opasky", url: "trhacky-opasky.html" },
            { name: "≈†ejkre a Fƒæa≈°e", url: "sejkre-flase.html" },
            { name: "Rukavice na cviƒçenie", url: "rukavice.html" },
            { name: "Odporov√© gumy", url: "odporove-gumy.html" }
        ];

        function filterSearch() {
            const input = document.getElementById('site-search').value.toLowerCase();
            const resultsBox = document.getElementById('search-results');
            resultsBox.innerHTML = '';
            
            if(input.length < 1) {
                resultsBox.style.display = 'none';
                return;
            }

            const filtered = searchData.filter(item => item.name.toLowerCase().includes(input));

            if(filtered.length > 0) {
                resultsBox.style.display = 'flex';
                filtered.forEach(item => {
                    const a = document.createElement('a');
                    a.href = item.url;
                    a.innerText = item.name;
                    resultsBox.appendChild(a);
                });
            } else {
                resultsBox.style.display = 'none';
            }
        }

        // Zavrie≈• vyhƒæad√°vanie pri kliknut√≠ mimo
        document.addEventListener('click', (e) => {
            if(!e.target.closest('.search-container')) {
                document.getElementById('search-results').style.display = 'none';
            }
        });

        // ON LOAD
        window.onload = function() {
            if (loggedUser) {
                showMainContent();
            } else {
                document.getElementById('auth-screen').style.display = 'flex';
            }
            updateCartUI();
        };

        // AUTH LOGIC
        function switchAuth(mode) {
            authMode = mode;
            document.getElementById('tab-login').classList.toggle('active', mode === 'login');
            document.getElementById('tab-reg').classList.toggle('active', mode === 'reg');
            document.getElementById('auth-title').innerText = mode === 'login' ? 'Vitaj sp√§≈•!' : 'Registr√°cia';
            document.getElementById('reg-extra').style.display = mode === 'reg' ? 'block' : 'none';
        }

        function handleAuth() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const username = document.getElementById('username').value;

            if (authMode === 'reg') {
                const user = { 
                    email, password, name: username || 'U≈æ√≠vateƒæ', bmi: '--', weight: '--', 
                    avatar: 'https://i.pravatar.cc/100?u=9', prefEmail: true, prefGym: true 
                };
                localStorage.setItem('user_' + email, JSON.stringify(user));
                loggedUser = user;
                localStorage.setItem('loggedUser', JSON.stringify(loggedUser));
                document.getElementById('auth-screen').style.display = 'none';
                document.getElementById('onboarding-screen').style.display = 'flex';
            } else {
                const saved = JSON.parse(localStorage.getItem('user_' + email));
                if (saved && saved.password === password) {
                    loggedUser = saved;
                    localStorage.setItem('loggedUser', JSON.stringify(loggedUser));
                    showMainContent();
                } else { alert("Nespr√°vne √∫daje!"); }
            }
        }

        function finishOnboarding() {
            document.getElementById('onboarding-screen').style.display = 'none';
            showMainContent();
        }

        function showMainContent() {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-web-content').style.display = 'block';
            
            document.getElementById('sidebar-name').innerText = loggedUser.name;
            document.getElementById('dash-bmi').innerText = loggedUser.bmi;
            document.getElementById('dash-weight').innerText = (loggedUser.weight || '--') + " kg";
            
            document.getElementById('set-name').value = loggedUser.name;
            document.getElementById('set-email').value = loggedUser.email;
            document.getElementById('pref-email').checked = loggedUser.prefEmail;
            document.getElementById('pref-gym').checked = loggedUser.prefGym;

            if(loggedUser.avatar) changeAvatar(loggedUser.avatar);
        }

        function saveSettings() {
            loggedUser.name = document.getElementById('set-name').value;
            loggedUser.email = document.getElementById('set-email').value;
            if(document.getElementById('set-pass').value !== "") {
                loggedUser.password = document.getElementById('set-pass').value;
            }
            loggedUser.prefEmail = document.getElementById('pref-email').checked;
            loggedUser.prefGym = document.getElementById('pref-gym').checked;

            localStorage.setItem('loggedUser', JSON.stringify(loggedUser));
            localStorage.setItem('user_' + loggedUser.email, JSON.stringify(loggedUser));
            
            document.getElementById('sidebar-name').innerText = loggedUser.name;
            const msg = document.getElementById('save-msg');
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 3000);
        }

        function logout() {
            localStorage.removeItem('loggedUser');
            location.reload();
        }

        
        

        function addToCart(name, price, event) {
            if(event) event.preventDefault();
            cart.push({name, price});
            localStorage.setItem('fitCart', JSON.stringify(cart));
            updateCartUI();
            
            const btn = document.getElementById('cart-nav-btn');
            if(btn) {
                btn.classList.add('cart-shake');
                setTimeout(() => btn.classList.remove('cart-shake'), 400);
            }
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('fitCart', JSON.stringify(cart));
            updateCartUI();
        }

        function updateCartUI() {
            const countEl = document.getElementById('cart-count');
            if(countEl) countEl.innerText = cart.length;

            const list = document.getElementById('cart-items');
            if(!list) return;

            list.innerHTML = '';
            let total = 0;
            cart.forEach((item, idx) => {
                total += item.price;
                list.innerHTML += `
                <div class="cart-item">
                    <span>${item.name}</span>
                    <div style="display:flex; gap:10px; align-items:center;">
                        <span style="color:var(--primary); font-weight:700;">${item.price.toFixed(2)} ‚Ç¨</span>
                        <button class="remove-btn" onclick="removeFromCart(${idx})">√ó</button>
                    </div>
                </div>`;
            });
            document.getElementById('cart-total').innerText = `SPOLU: ${total.toFixed(2)} ‚Ç¨`;
            document.getElementById('cart-progress').style.width = Math.min(total*2, 100) + '%';
        }

        function openCart() { document.getElementById('cart-modal').style.display = 'flex'; }
        function closeCart() { document.getElementById('cart-modal').style.display = 'none'; }
        function openProfile() { document.getElementById('profile-modal').style.display = 'flex'; }
        function closeProfile() { document.getElementById('profile-modal').style.display = 'none'; }

        function switchProfileTab(tab, el) {
            document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
            document.querySelectorAll('.profile-section').forEach(s => s.classList.remove('active'));
            el.classList.add('active');
            document.getElementById(tab + '-section').classList.add('active');
        }

        function changeAvatar(src, el) {
            document.getElementById('sidebar-avatar').src = src;
            document.getElementById('user-profile-btn').innerHTML = `<img src="${src}" style="width:100%; height:100%; border-radius:50%;">`;
            if(el) {
                document.querySelectorAll('.avatar-img').forEach(img => img.classList.remove('active-avatar'));
                el.classList.add('active-avatar');
            }
            if(loggedUser) {
                loggedUser.avatar = src;
                localStorage.setItem('loggedUser', JSON.stringify(loggedUser));
            }
        }

        function toggleHardcore() {
            const isEnabled = document.getElementById('hc-toggle').checked;
            document.getElementById('main-body').classList.toggle('hardcore-mode', isEnabled);
        }

        function toggleFaq(el) { el.classList.toggle('active'); }
        function closeNews() { document.getElementById('news-popup').style.display = 'none'; }
        function submitNewsletter() { alert('Prihl√°sen√©!'); closeNews(); }

        const names = ["Marek", "Jana", "Luk√°≈°", "Michal", "Ema"];
        setInterval(() => {
            if(Math.random() > 0.8) {
                const notif = document.getElementById('sales-notification');
                if(!notif) return;
                notif.innerHTML = `<div style="display:flex; gap:10px; align-items:center;">
                    <img src="https://i.pravatar.cc/100?u=${Math.floor(Math.random()*50)}" style="width:40px;height:40px;border-radius:50%">
                    <div><b>${names[Math.floor(Math.random()*names.length)]}</b> pr√°ve k√∫pil pl√°n!</div>
                </div>`;
                notif.classList.add('show');
                setTimeout(() => notif.classList.remove('show'), 4000);
            }
        }, 8000);

        let time = 3600;
        setInterval(() => {
            time--;
            let h = Math.floor(time / 3600);
            let m = Math.floor((time % 3600) / 60);
            let s = time % 60;
            const timerEl = document.getElementById('countdown');
            if(timerEl) timerEl.innerText = `${h < 10 ? '0'+h:h}:${m < 10 ? '0'+m:m}:${s < 10 ? '0'+s:s}`;
        }, 1000);
        let selectedSex = 'M';

function setSex(s) {
    selectedSex = s;
    document.getElementById('sex-m').classList.toggle('active', s === 'M');
    document.getElementById('sex-f').classList.toggle('active', s === 'F');
}
function calculateAll() {
    const h = parseFloat(document.getElementById('height').value) / 100;
    const w = parseFloat(document.getElementById('weight').value);
    
    if (!h || !w) return;

    // BMI a Status
    const bmi = (w / (h * h)).toFixed(1);
    document.getElementById('bmi-val').innerText = bmi;
    
    let status = "Norm√°lna";
    let pos = 35;
    if(bmi < 18.5) { status = "Podv√°ha"; pos = 10; }
    else if(bmi >= 25 && bmi < 30) { status = "Nadv√°ha"; pos = 60; }
    else if(bmi >= 30) { status = "Obezita"; pos = 85; }
    
    document.getElementById('bmi-status').innerText = status;
    document.getElementById('bmi-pointer').style.left = pos + "%";

    // BMR
    document.getElementById('bmr-val').innerText = Math.round((10 * w) + (6.25 * h * 100) - (5 * 25) + 5) + " kcal";

    // Ide√°lna v√°ha
    document.getElementById('ideal-weight').innerText = Math.round(22 * (h * h)) + " kg";

    // Voda
    document.getElementById('water-val').innerText = (w * 0.6).toFixed(1) + " L";

    // Body Fat
    if (typeof calcMode !== 'undefined' && calcMode === 'fat') {
        const neck = parseFloat(document.getElementById('neck').value);
        const waist = parseFloat(document.getElementById('waist').value);
        if (neck && waist) {
            const fat = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(h * 100)) - 450;
            document.getElementById('fat-val').innerText = fat.toFixed(1) + "%";
        }
    }
}
// Naƒç√≠tanie √∫dajov pri ≈°tarte
document.addEventListener('DOMContentLoaded', () => {
    const savedData = JSON.parse(localStorage.getItem('userFitnessData'));
    if (savedData) {
        if (savedData.h) document.getElementById('height').value = savedData.h;
        if (savedData.w) document.getElementById('weight').value = savedData.w;
        if (savedData.n) document.getElementById('neck').value = savedData.n;
        if (savedData.wa) document.getElementById('waist').value = savedData.wa;
        calculateAndSave();
    }
});

function calculateAndSave() {
    const h = parseFloat(document.getElementById('height').value);
    const w = parseFloat(document.getElementById('weight').value);
    const n = parseFloat(document.getElementById('neck').value) || 0;
    const wa = parseFloat(document.getElementById('waist').value) || 0;

    if (!h || !w) return;

    // 1. BMI V√ùPOƒåET
    const heightM = h / 100;
    const bmi = (w / (heightM * heightM)).toFixed(1);
    document.getElementById('bmi-val').innerText = bmi;

    // 2. STAV A STUPNICA
    let status = "Norm√°lna v√°ha";
    let risk = "Minim√°lne";
    let pos = 35;
    if (bmi < 18.5) { status = "Podv√°ha"; risk = "Zv√Ω≈°en√©"; pos = 10; }
    else if (bmi >= 25 && bmi < 30) { status = "Nadv√°ha"; risk = "Zv√Ω≈°en√©"; pos = 60; }
    else if (bmi >= 30) { status = "Obezita"; risk = "Vysok√©"; pos = 85; }
    
    document.getElementById('bmi-status').innerText = status;
    document.getElementById('risk-level').innerText = risk;
    document.getElementById('bmi-pointer').style.left = pos + "%";

    // 3. OSTATN√â ANAL√ùZY
    document.getElementById('bmr-val').innerText = Math.round(10 * w + 6.25 * h - 5 * 25 + 5);
    document.getElementById('ideal-weight').innerText = Math.round(22 * (heightM * heightM));
    document.getElementById('water-val').innerText = (w * 0.6).toFixed(1);
    document.getElementById('bsa-val').innerText = Math.sqrt((h * w) / 3600).toFixed(2);

    // 4. BODY FAT (ak je zadan√Ω krk a p√°s)
    if (n && wa) {
        const fat = 495 / (1.0324 - 0.19077 * Math.log10(wa - n) + 0.15456 * Math.log10(h)) - 450;
        document.getElementById('fat-val').innerText = Math.max(0, fat).toFixed(1) + "%";
    }

    // 5. UKLADANIE DO LOCALSTORAGE
    const dataToSave = { h, w, n, wa, bmi, status };
    localStorage.setItem('userFitnessData', JSON.stringify(dataToSave));

    // 6. VIZU√ÅLNA SP√ÑTN√Å V√ÑZBA (Status bar)
    const sStatus = document.getElementById('save-status');
    sStatus.style.opacity = "1";
    
    // 7. AKTUALIZ√ÅCIA V PROFILE (ak m√°≈° v k√≥de ID 'profile-weight' atƒè)
    const profW = document.getElementById('user-weight-display'); // uprav ID podƒæa tvojho profilu
    if(profW) profW.innerText = w + " kg";
}
function toggleTheme() {
    const body = document.body;
    const icon = document.getElementById('theme-icon');
    
    // Prepnutie triedy na body
    body.classList.toggle('light-mode');
    
    // Kontrola a zmena ikony + ulo≈æenie do pam√§te
    if (body.classList.contains('light-mode')) {
        icon.innerText = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'light');
    } else {
        icon.innerText = 'üåô';
        localStorage.setItem('theme', 'dark');
    }
}

// Funkcia, ktor√° sa spust√≠ hneƒè pri naƒç√≠tan√≠ str√°nky
window.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
        document.body.classList.add('light-mode');
        const icon = document.getElementById('theme-icon');
        if(icon) icon.innerText = '‚òÄÔ∏è';
    }
});

</script>
    </script>
    
    <div id="order-modal" class="modal">
    <div class="modal-content">
        <h2 style="color: var(--primary);">SLEDOVANIE OBJEDN√ÅVKY</h2>
        <div id="order-status-content" style="text-align: left; margin-top: 20px;">
            </div>
        <button class="btn-cta" style="width: 100%; margin-top: 20px;" onclick="closeOrderModal()">ZAVRIE≈§</button>
    </div>
</div>
<div id="help-modal" class="modal">
    <div class="modal-content" style="max-width: 500px; text-align: left;">
        <h2 style="color: var(--primary); text-align: center;">CENTRUM POMOCI</h2>
        <p style="text-align: center; color: var(--text-dim); font-size: 0.85rem; margin-bottom: 20px;">Ako ti m√¥≈æeme dnes pom√¥c≈•?</p>
        
        <div style="display: grid; gap: 15px;">
            <div style="background: #1a1a1a; padding: 15px; border-radius: 12px; cursor: pointer; border: 1px solid #222;" onclick="alert('Formul√°r pre reklam√°cie bol odoslan√Ω na v√°≈° email.')">
                <h4 style="color: white; font-size: 0.9rem;">üì¶ Reklam√°cie a vr√°tenie tovaru</h4>
                <p style="font-size: 0.75rem; color: var(--text-dim);">Chcem vr√°ti≈• pl√°n alebo nahl√°si≈• probl√©m s platbou.</p>
            </div>

            <div style="background: #1a1a1a; padding: 15px; border-radius: 12px; cursor: pointer; border: 1px solid #222;" onclick="alert('N√°≈° technik je moment√°lne offline. Nap√≠≈°te n√°m na support@fitprogress.sk')">
                <h4 style="color: white; font-size: 0.9rem;">‚öôÔ∏è Technick√° podpora</h4>
                <p style="font-size: 0.75rem; color: var(--text-dim);">M√°m probl√©m s otvoren√≠m PDF pl√°nu alebo s prihl√°sen√≠m.</p>
            </div>

            <div style="background: #1a1a1a; padding: 15px; border-radius: 12px; cursor: pointer; border: 1px solid #222;" onclick="location.href='mailto:coach@fitprogress.sk'">
                <h4 style="color: white; font-size: 0.9rem;">üí™ Konzult√°cia s tr√©nerom</h4>
                <p style="font-size: 0.75rem; color: var(--text-dim);">Potrebujem poradi≈• s v√Ωberom spr√°vneho pl√°nu pre moje ciele.</p>
            </div>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 77, 0, 0.1); border-radius: 10px; text-align: center;">
            <p style="font-size: 0.8rem; color: var(--primary); font-weight: 700;">Nena≈°li ste odpoveƒè?</p>
            <p style="font-size: 0.85rem;">Sme tu pre v√°s 24/7 na <b>podpora@fitprogress.sk</b></p>
        </div>

        <button class="btn-cta" style="width: 100%; margin-top: 20px; background: #222; box-shadow: none;" onclick="closeHelpModal()">ZAVRIE≈§</button>
    </div>
</div>
<div id="story-modal" class="modal">
    <div class="modal-content" style="max-width: 600px; text-align: left; max-height: 80vh; overflow-y: auto;">
        <h2 style="color: var(--primary); text-align: center; margin-bottom: 10px;">N√Å≈† PR√çBEH</h2>
        <p style="text-align: center; font-style: italic; color: var(--text-dim); margin-bottom: 25px;">"Od jedn√©ho ƒçinka v gar√°≈æi a≈æ po komunitu tis√≠cov ƒæud√≠."</p>
        
        <div class="story-timeline">
            <div style="margin-bottom: 20px; border-left: 2px solid var(--primary); padding-left: 15px;">
                <h4 style="color: var(--primary);">2020: Zaƒçiatok</h4>
                <p style="font-size: 0.85rem;">FitProgress vznikol poƒças lockdownu ako jednoduch√Ω blog pre kamo≈°ov, ktor√≠ chceli cviƒçi≈• doma s vlastnou v√°hou.</p>
            </div>

            <div style="margin-bottom: 20px; border-left: 2px solid var(--primary); padding-left: 15px;">
                <h4 style="color: var(--primary);">2022: Personaliz√°cia</h4>
                <p style="font-size: 0.85rem;">Uvedomili sme si, ≈æe "one size fits all" nefunguje. Vyvinuli sme n√°≈° prv√Ω algoritmus na v√Ωpoƒçet kal√≥ri√≠ a mieru tr√©ningov.</p>
            </div>

            <div style="margin-bottom: 20px; border-left: 2px solid var(--primary); padding-left: 15px;">
                <h4 style="color: var(--primary);">Dnes: Va≈°a Premena</h4>
                <p style="font-size: 0.85rem;">Dnes sme hrd√≠ na viac ako 5 000 √∫spe≈°n√Ωch premien a neust√°le pracujeme na tom, aby sme v√°m prin√°≈°ali to najlep≈°ie zo sveta fitness.</p>
            </div>
        </div>

        <div style="background: var(--card-bg); padding: 15px; border-radius: 10px; margin-top: 10px;">
            <p style="font-size: 0.9rem; line-height: 1.5;">
                Na≈°√≠m cieƒæom nie je len pred√°va≈• pl√°ny. Na≈°√≠m cieƒæom je nauƒçi≈• v√°s, ako ≈æi≈• zdravo bez extr√©mnych di√©t a zbytoƒçn√©ho tr√°penia. <b>Va≈°a cesta je na≈°ou prioritou.</b>
            </p>
        </div>

        <button class="btn-cta" style="width: 100%; margin-top: 25px;" onclick="closeStoryModal()">POKRAƒåOVA≈§ V CESTE</button>
    </div>
</div>


<<div id="ai-assistant" style="position: fixed; bottom: 30px; right: 30px; z-index: 1000; font-family: 'Inter', sans-serif;">
    <button onclick="toggleChat()" style="background: var(--primary); color: white; border: none; border-radius: 50%; width: 70px; height: 70px; cursor: pointer; box-shadow: 0 8px 25px var(--primary-glow); font-size: 2rem; transition: transform 0.2s;">
        ü§ñ
    </button>

    <div id="chat-window" style="display: none; position: absolute; bottom: 90px; right: 0; width: 400px; height: 550px; background: var(--card-bg); border: 2px solid var(--primary); border-radius: 20px; overflow: hidden; box-shadow: 0 15px 50px rgba(0,0,0,0.9); flex-direction: column;">
        
        <div style="background: var(--primary); padding: 18px; font-weight: 900; text-align: center; color: white; font-size: 1.1rem; letter-spacing: 1px;">
            FITPROGRESS AI COACH
        </div>

        <div id="chat-content" style="flex: 1; padding: 20px; overflow-y: auto; font-size: 1rem; color: var(--text); display: flex; flex-direction: column; gap: 15px; background: #080808;">
            <div style="background: #222; padding: 12px 16px; border-radius: 15px 15px 15px 0px; align-self: flex-start; max-width: 85%; line-height: 1.5;">
                Ahoj! Som tvoj vylep≈°en√Ω AI asistent. P√Ωtaj sa na ƒçokoƒævek ohƒæadom tr√©ningu, vid√≠m teraz v≈°etko jasne! ü¶æ
            </div>
        </div>

        <div style="padding: 15px; border-top: 1px solid #333; display: flex; background: var(--card-bg); gap: 10px;">
            <input type="text" id="user-input" placeholder="Nap√≠≈° svoju ot√°zku..." 
                style="flex: 1; background: #1a1a1a; border: 1px solid #444; color: white; padding: 12px 15px; border-radius: 10px; outline: none; font-size: 1rem;">
            <button onclick="sendMessage()" 
                style="background: var(--primary); border: none; color: white; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1rem;">
                POSLA≈§
            </button>
        </div>
    </div>
</div>

<script>
    let workoutTime = 0;
let timerActive = false;

function toggleTracker() {
    const panel = document.getElementById('side-tracker');
    panel.classList.toggle('active');
    if(panel.classList.contains('active') && !timerActive) startTimer();
}

function startTimer() {
    timerActive = true;
    setInterval(() => {
        workoutTime++;
        let m = Math.floor(workoutTime / 60);
        let s = workoutTime % 60;
        document.getElementById('session-time').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
    }, 1000);
}

function addExerciseCard(name) {
    const body = document.getElementById('log-body');
    const cardId = Date.now();
    const card = document.createElement('div');
    card.className = 'exercise-card';
    card.id = `ex-${cardId}`;
    
    card.innerHTML = `
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h4 style="margin:0; font-size:1rem; color:var(--primary);">${name}</h4>
            <button onclick="document.getElementById('ex-${cardId}').remove(); calculateStats();" style="background:none; border:none; color:#444; cursor:pointer;">‚úï</button>
        </div>
        <div class="set-labels" style="display:grid; grid-template-columns: 30px 1fr 60px 60px 60px 30px; gap:10px; margin-top:15px; font-size:0.6rem; color:#555; text-align:center;">
            <div>TYP</div><div>CVIK</div><div>KG</div><div>OPAK.</div><div>%</div><div></div>
        </div>
        <div id="sets-container-${cardId}"></div>
        <button class="add-set-btn" onclick="addSetRow('${cardId}', '${name}')">+ PRIDA≈§ S√âRIU</button>
    `;
    body.appendChild(card);
    addSetRow(cardId, name);
}

function addSetRow(cardId, name) {
    const container = document.getElementById(`sets-container-${cardId}`);
    const setNum = container.children.length + 1;
    const row = document.createElement('div');
    row.className = 'set-row';
    row.innerHTML = `
        <div class="set-type" onclick="toggleSetType(this)">N</div>
        <div style="font-size:0.7rem; color:#888;">S√©ria ${setNum}</div>
        <input type="number" class="set-input kg" placeholder="0" oninput="calculateStats()">
        <input type="number" class="set-input reps" placeholder="0" oninput="calculateStats()">
        <div style="font-size:0.7rem; color:var(--success);">100%</div>
        <button onclick="this.parentElement.remove(); calculateStats();" style="background:none; border:none; color:#333; cursor:pointer;">‚úï</button>
    `;
    container.appendChild(row);
    calculateStats();
}

function toggleSetType(el) {
    if(el.innerText === 'N') { el.innerText = 'W'; el.className = 'set-type warmup'; }
    else if(el.innerText === 'W') { el.innerText = 'D'; el.className = 'set-type dropset'; }
    else { el.innerText = 'N'; el.className = 'set-type'; }
}

function calculateStats() {
    let volume = 0;
    let sets = 0;
    document.querySelectorAll('.set-row').forEach(row => {
        const kg = parseFloat(row.querySelector('.kg').value) || 0;
        const reps = parseFloat(row.querySelector('.reps').value) || 0;
        volume += (kg * reps);
        sets++;
    });
    document.getElementById('total-volume').innerText = volume.toLocaleString();
    document.getElementById('total-sets').innerText = sets;
}

function finishWorkout() {
    const volume = document.getElementById('total-volume').innerText;
    alert(`Tr√©ning dokonƒçen√Ω! \nCelkov√Ω objem: ${volume} kg. \nDobr√° pr√°ca, tvoj progres bol ulo≈æen√Ω!`);
    // Tu m√¥≈æe≈° prida≈• ukladanie do localStorage
    toggleTracker();
}
    /* --- LOGIKA PRE BEFORE/AFTER SLIDER --- */
function slideCompare(slider) {
    const val = slider.value;
    // Zmen√≠ ≈°√≠rku horn√©ho obr√°zka
    const container = slider.parentElement;
    const topImage = container.querySelector('.modified');
    const line = container.querySelector('.ba-line');
    const btn = container.querySelector('.ba-button');
    
    topImage.style.width = val + "%";
    
    // Posunie ƒçiaru a tlaƒçidlo
    line.style.left = val + "%";
    btn.style.left = val + "%";
}
    // SEM VLO≈Ω SVOJ KƒΩ√öƒå (Mus√≠ zaƒç√≠na≈• na AIza...)
    const GEMINI_API_KEY = "AIzaSyCyDRFrb4FeVRv6DOwRhaDSxn94sCTxjqs"; 

    function toggleChat() {
        const chat = document.getElementById('chat-window');
        chat.style.display = (chat.style.display === 'none' || chat.style.display === '') ? 'flex' : 'none';
    }

    async function sendMessage() {
    const input = document.getElementById('user-input');
    const content = document.getElementById('chat-content');
    const text = input.value.trim();

    if (!text) return;

    // 1. Zobrazi≈• spr√°vu pou≈æ√≠vateƒæa
    content.innerHTML += '<div class="bubble user-bubble">' + text + '</div>';
    input.value = "";
    content.scrollTop = content.scrollHeight;

    // 2. Zobrazi≈• loading
    const loadingId = "loading-" + Date.now();
    content.innerHTML += '<div id="' + loadingId + '" class="bubble ai-bubble" style="color: #777;">Rozm√Ω≈°ƒæam...</div>';
    content.scrollTop = content.scrollHeight;

    // 3. Volanie API
    try {
        // Tu pou≈æ√≠vame verziu v1 a model gemini-1.5-flash
        const apiUrl = "https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=" + API_KEY;
        
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{
                    parts: [{ text: "Odpovedaj struƒçne ako fitness tr√©ner v slovenƒçine: " + text }]
                }]
            })
        });

        const data = await response.json();
        
        // Odstr√°ni≈• loading
        const loadEl = document.getElementById(loadingId);
        if(loadEl) loadEl.remove();

        if (data.candidates && data.candidates[0].content) {
            const reply = data.candidates[0].content.parts[0].text;
            content.innerHTML += '<div class="bubble ai-bubble">' + reply + '</div>';
        } else {
            // Ak Google vr√°ti chybu v JSON form√°te
            console.error("API Error:", data);
            content.innerHTML += '<div class="bubble ai-bubble" style="color:red;">Chyba: ' + (data.error ? data.error.message : "Nezn√°ma chyba") + '</div>';
        }
    } catch (e) {
        // Ak zlyh√° samotn√© sie≈•ov√© volanie (napr. blokovanie prehliadaƒçom)
        console.error("Network Error:", e);
        const loadEl = document.getElementById(loadingId);
        if(loadEl) loadEl.innerHTML = "<span style='color:red;'>Chyba pripojenia. Sk√∫s in√Ω prehliadaƒç alebo skontroluj internet.</span>";
    }
    content.scrollTop = content.scrollHeight;
}
/* --- COOKIE LOGIKA (Plne funkƒçn√°) --- */

// Pomocn√° funkcia na nastavenie Cookie (exspir√°cia v d≈àoch)
function setCookie(cname, cvalue, exdays) {
    const d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    let expires = "expires=" + d.toUTCString();
    // Ulo≈æ√≠ cookie do prehliadaƒça
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/;SameSite=Lax";
}

// Pomocn√° funkcia na z√≠skanie Cookie podƒæa mena
function getCookie(cname) {
    let name = cname + "=";
    let decodedCookie = decodeURIComponent(document.cookie);
    let ca = decodedCookie.split(';');
    for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

// Skontroluje pri naƒç√≠tan√≠ str√°nky, ƒçi u≈æ m√°me s√∫hlas
function initCookieCheck() {
    const userConsent = getCookie("fitProgressConsent");
    
    // Ak cookie neexistuje, uk√°≈æ banner
    if (userConsent === "") {
        setTimeout(() => {
            document.getElementById('cookie-consent-banner').style.display = 'flex';
        }, 1500); // Mal√© oneskorenie pre lep≈°√≠ efekt
    } else {
        console.log("Cookies u≈æ boli prijat√©/odmietnut√©: " + userConsent);
    }
}

// Funkcia volan√° tlaƒçidlami v banneri
function handleCookieConsent(accepted) {
    const banner = document.getElementById('cookie-consent-banner');
    
    if (accepted) {
        // U≈æ√≠vateƒæ s√∫hlasil - ulo≈æ√≠me na 365 dn√≠
        setCookie("fitProgressConsent", "accepted", 365);
        alert("ƒéakujeme! Tvoje nastavenia bud√∫ odteraz bezpeƒçne ulo≈æen√©. ü¶æ");
    } else {
        // U≈æ√≠vateƒæ odmietol - ulo≈æ√≠me inform√°ciu, ≈æe nechce by≈• sledovan√Ω (na 30 dn√≠)
        setCookie("fitProgressConsent", "declined", 30);
    }

    // Anim√°cia zmiznutia
    banner.style.opacity = "0";
    banner.style.transform = "translate(-50%, 20px)";
    setTimeout(() => {
        banner.style.display = 'none';
    }, 500);
}

// Spusti≈• kontrolu po naƒç√≠tan√≠ str√°nky
window.addEventListener('load', initCookieCheck);
</script>
    <div id="cookie-consent-banner" class="cookie-overlay">
    <div class="cookie-content">
        <h3>üç™ Cookies & V√Ωkon</h3>
        <p>
            Aby tvoj progres na <b>FitProgress</b> ostal ulo≈æen√Ω (ko≈°√≠k, prihl√°senie, nastavenia), potrebujeme tvoj s√∫hlas s pou≈æ√≠van√≠m cookies. 
            Bez nich bude≈° musie≈• v≈°etko nastavova≈• znova pri ka≈ædej n√°v≈°teve.
        </p>
    </div>
    <div class="cookie-actions">
        <button class="btn-cookie-decline" onclick="handleCookieConsent(false)">Len nevyhnutn√©</button>
        <button class="btn-cookie-accept" onclick="handleCookieConsent(true)">S√∫hlasi≈• a Pokraƒçova≈•</button>
    </div>
</div>
</body>
</html>
